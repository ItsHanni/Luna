{"ast":null,"code":"var _jsxFileName = \"E:\\\\Do_an_bao_ve\\\\client\\\\src\\\\components\\\\reserve\\\\Reserve.jsx\",\n    _s2 = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { SearchContext } from \"../../context/SearchContext\";\nimport useFetch from \"../../hooks/useFetch\";\nimport \"./reserve.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Reserve = _ref => {\n  _s2();\n\n  let {\n    setOpen,\n    hotelId\n  } = _ref;\n  const {\n    dates\n  } = useContext(SearchContext);\n  const [availableRooms, setAvailableRooms] = useState([]); // Tính toán ngày checkIn và checkOut\n\n  const checkInDate = dates[0].startDate;\n  const checkOutDate = dates[0].endDate;\n  useEffect(() => {\n    var _s = $RefreshSig$();\n\n    const fetchAvailableRooms = async () => {\n      _s();\n\n      try {\n        const response = await useFetch(`/rooms/available?hotelId=${hotelId}&checkInDate=${checkInDate}&checkOutDate=${checkOutDate}`);\n        setAvailableRooms(response.data); // Lưu trữ dữ liệu phòng trống\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    _s(fetchAvailableRooms, \"WM4OL7CqgzjgXHJL6SXd6kRTA8w=\", false, function () {\n      return [useFetch];\n    });\n\n    fetchAvailableRooms();\n  }, [hotelId, checkInDate, checkOutDate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reserve\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setOpen(false),\n      children: \"\\u0110\\xF3ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"C\\xE1c ph\\xF2ng tr\\u1ED1ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), availableRooms.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: availableRooms.map(room => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: room.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: room.desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Gi\\xE1: $\", room.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this)]\n      }, room._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Kh\\xF4ng c\\xF3 ph\\xF2ng tr\\u1ED1ng trong kho\\u1EA3ng th\\u1EDDi gian \\u0111\\xE3 ch\\u1ECDn.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Reserve, \"y7AQEILesHTYTavmCfmyr3Gy/vE=\");\n\n_c = Reserve;\nexport default Reserve;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reserve\");","map":{"version":3,"sources":["E:/Do_an_bao_ve/client/src/components/reserve/Reserve.jsx"],"names":["useContext","useEffect","useState","SearchContext","useFetch","Reserve","setOpen","hotelId","dates","availableRooms","setAvailableRooms","checkInDate","startDate","checkOutDate","endDate","fetchAvailableRooms","response","data","err","console","error","length","map","room","title","desc","price","_id"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAO,eAAP;;;AAEA,MAAMC,OAAO,GAAG,QAA0B;AAAA;;AAAA,MAAzB;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAyB;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAYR,UAAU,CAACG,aAAD,CAA5B;AACA,QAAM,CAACM,cAAD,EAAiBC,iBAAjB,IAAsCR,QAAQ,CAAC,EAAD,CAApD,CAFwC,CAIxC;;AACA,QAAMS,WAAW,GAAGH,KAAK,CAAC,CAAD,CAAL,CAASI,SAA7B;AACA,QAAMC,YAAY,GAAGL,KAAK,CAAC,CAAD,CAAL,CAASM,OAA9B;AAEAb,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACd,UAAMc,mBAAmB,GAAG,YAAY;AAAA;;AACtC,UAAI;AACF,cAAMC,QAAQ,GAAG,MAAMZ,QAAQ,CAC5B,4BAA2BG,OAAQ,gBAAeI,WAAY,iBAAgBE,YAAa,EAD/D,CAA/B;AAGAH,QAAAA,iBAAiB,CAACM,QAAQ,CAACC,IAAV,CAAjB,CAJE,CAIgC;AACnC,OALD,CAKE,OAAOC,GAAP,EAAY;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,KATD;;AADc,OACRH,mBADQ;AAAA,cAGaX,QAHb;AAAA;;AAYdW,IAAAA,mBAAmB;AACpB,GAbQ,EAaN,CAACR,OAAD,EAAUI,WAAV,EAAuBE,YAAvB,CAbM,CAAT;AAeA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,4BACE;AAAQ,MAAA,OAAO,EAAE,MAAMP,OAAO,CAAC,KAAD,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGGG,cAAc,CAACY,MAAf,GAAwB,CAAxB,gBACC;AAAA,gBACGZ,cAAc,CAACa,GAAf,CAAoBC,IAAD,iBAClB;AAAA,gCACE;AAAA,oBAAKA,IAAI,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,oBAAID,IAAI,CAACE;AAAT;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,kCAAaF,IAAI,CAACG,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA,SAASH,IAAI,CAACI,GAAd;AAAA;AAAA;AAAA;AAAA,cADD;AADH;AAAA;AAAA;AAAA;AAAA,YADD,gBAWC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD,CA1CD;;IAAMtB,O;;KAAAA,O;AA4CN,eAAeA,OAAf","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { SearchContext } from \"../../context/SearchContext\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport \"./reserve.css\";\r\n\r\nconst Reserve = ({ setOpen, hotelId }) => {\r\n  const { dates } = useContext(SearchContext);\r\n  const [availableRooms, setAvailableRooms] = useState([]);\r\n  \r\n  // Tính toán ngày checkIn và checkOut\r\n  const checkInDate = dates[0].startDate;\r\n  const checkOutDate = dates[0].endDate;\r\n\r\n  useEffect(() => {\r\n    const fetchAvailableRooms = async () => {\r\n      try {\r\n        const response = await useFetch(\r\n          `/rooms/available?hotelId=${hotelId}&checkInDate=${checkInDate}&checkOutDate=${checkOutDate}`\r\n        );\r\n        setAvailableRooms(response.data); // Lưu trữ dữ liệu phòng trống\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    fetchAvailableRooms();\r\n  }, [hotelId, checkInDate, checkOutDate]);\r\n\r\n  return (\r\n    <div className=\"reserve\">\r\n      <button onClick={() => setOpen(false)}>Đóng</button>\r\n      <h2>Các phòng trống</h2>\r\n      {availableRooms.length > 0 ? (\r\n        <ul>\r\n          {availableRooms.map((room) => (\r\n            <li key={room._id}>\r\n              <h3>{room.title}</h3>\r\n              <p>{room.desc}</p>\r\n              <span>Giá: ${room.price}</span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>Không có phòng trống trong khoảng thời gian đã chọn.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reserve;\r\n"]},"metadata":{},"sourceType":"module"}